<div class="reports-container">

    <div class="filterContainer">
        <label><h5>Reports</h5></label>

    <div class="sensors">
      <div class="tide" [ngClass]="{'selectOption' :slectedOption === 'tide' }" (click)="selecteoption('tide')">
        <svg id="Buoy" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 101.22">
          <defs>
            <style>
              .cls-1 {
                fill: none;
                stroke: #1ee1ff;
                stroke-linecap: round;
                stroke-linejoin: round;
                stroke-width: 8.23px;
              }
              .cls-2 {
                fill: #1ff2f2;
                stroke: #ffffff;
                stroke-width: 2px;
              }
            </style>
          </defs>
          
          <!-- Buoy base -->
          <circle class="cls-2" cx="61.44" cy="75" r="15" />
          
          <!-- Buoy floating platform -->
          <rect class="cls-2" x="55" y="55" width="12" height="25" />
        
          <!-- Water waves (simplified version of your original paths) -->
          <path class="cls-1" d="M5.06,85c5,0,10,5,15,5s10-5,15-5 10,5,15,5 10-5,15-5 10,5,15,5 10-5,15-5 10,5,15,5 10-5,15-5" />
          <path class="cls-1" d="M5.06,95c5,0,10,5,15,5s10-5,15-5 10,5,15,5 10-5,15-5 10,5,15,5 10-5,15-5 10,5,15,5 10-5,15-5" />
          
          <!-- Buoy pole/antenna -->
          <line class="cls-1" x1="61.44" y1="30" x2="61.44" y2="55" />
          <circle class="cls-2" cx="61.44" cy="25" r="5" />
          
        </svg>
        
        <h1>Buoy 1</h1>
      </div>
      <div class="adcp" [ngClass]="{'selectOption' :slectedOption === 'adcp' }" (click)="selecteoption('adcp')">
        <svg id="Buoy" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 101.22">
          <defs>
            <style>
              .cls-1 {
                fill: none;
                stroke: #1ee1ff;
                stroke-linecap: round;
                stroke-linejoin: round;
                stroke-width: 8.23px;
              }
              .cls-2 {
                fill: #1ff2f2;
                stroke: #ffffff;
                stroke-width: 2px;
              }
            </style>
          </defs>
          
          <!-- Buoy base -->
          <circle class="cls-2" cx="61.44" cy="75" r="15" />
          
          <!-- Buoy floating platform -->
          <rect class="cls-2" x="55" y="55" width="12" height="25" />
        
          <!-- Water waves (simplified version of your original paths) -->
          <path class="cls-1" d="M5.06,85c5,0,10,5,15,5s10-5,15-5 10,5,15,5 10-5,15-5 10,5,15,5 10-5,15-5 10,5,15,5 10-5,15-5" />
          <path class="cls-1" d="M5.06,95c5,0,10,5,15,5s10-5,15-5 10,5,15,5 10-5,15-5 10,5,15,5 10-5,15-5 10,5,15,5 10-5,15-5" />
          
          <!-- Buoy pole/antenna -->
          <line class="cls-1" x1="61.44" y1="30" x2="61.44" y2="55" />
          <circle class="cls-2" cx="61.44" cy="25" r="5" />
          
        </svg>
        <h1>Buoy 2</h1>
      </div>
    </div>
   
    @if(slectedOption == 'tide'){
      <div class="stations">
        <!-- <div class="field">
          <label for="buoys"><h3>Station select</h3></label>
          <p-multiSelect class="field custom-multiselect"
              name="buoys"
              [options]="bouyList" 
              [(ngModel)]="selectedBuoy" 
              optionLabel="name" 
              placeholder="Select Buoys" 
              [filter]="false"
              ></p-multiSelect>
      </div> -->
    <!-- Period Selection Dropdown -->
    <div class="field">
    <label for="period"><h3>Range</h3></label>
    <select name="period" [(ngModel)]="selectedPeriod" (change)="onPeriodChange()">
      <option value="dateRange">Date Wise</option>
      <option value="weekRange">Weekly</option>
      <option value="monthRange">Monthly</option>
      <option value="yearRange">Yearly</option>
    </select>
    </div>

    
    <!-- Conditional Fields based on Selected Period -->
    <div  class="field" *ngIf="selectedPeriod === 'dateRange'">
    <label for="fromDate">From Date:</label>
    <input type="date" id="fromDate" [(ngModel)]="fromDate">
    
    <label for="toDate">To Date:</label>
    <input type="date" id="toDate" [(ngModel)]="toDate">
    </div>
    
    <div  class="field" *ngIf="selectedPeriod === 'weekRange'">
    <label for="week">Select Week:</label>
    <input type="week" id="week" [(ngModel)]="selectedWeek">
    </div>
    
    <div  class="field" *ngIf="selectedPeriod === 'monthRange'">
    <label for="month">Select Month:</label>
    <input type="month" id="month" [(ngModel)]="selectedMonth">
    </div>
    
    <div class="field" *ngIf="selectedPeriod === 'yearRange'">
    <label for="year">Select Year:</label>
    <input type="number" id="year" min="2023" max="2100" [(ngModel)]="selectedYear">
    </div>

    <div class="field">
      <button class="submit">Submit</button> 
    </div>
    </div>

    }@else if(slectedOption == 'adcp'){
      <div class="stations">
        <!-- <div class="field">
          <label for="buoys"><h3>Station select</h3></label>
          <p-multiSelect class="field custom-multiselect"
              name="buoys"
              [options]="bouyList" 
              [(ngModel)]="selectedBuoy" 
              optionLabel="name" 
              placeholder="Select Buoys" 
              [filter]="false"
              
              ></p-multiSelect>
      </div> -->
    
    <!-- Period Selection Dropdown -->
    <div class="field">
    <label for="period"><h3>Range</h3></label>
    <select name="period" [(ngModel)]="selectedPeriod" (change)="onPeriodChange()">
      <option value="dateRange">Date Wise</option>
      <option value="weekRange">Weekly</option>
      <option value="monthRange">Monthly</option>
      <option value="yearRange">Yearly</option>
    </select>
    </div>
    
    <!-- Conditional Fields based on Selected Period -->
    <div  class="field" *ngIf="selectedPeriod === 'dateRange'">
    <label for="fromDate">From Date:</label>
    <input type="date" id="fromDate" [(ngModel)]="fromDate">
    
    <label for="toDate">To Date:</label>
    <input type="date" id="toDate" [(ngModel)]="toDate">
    </div>
    
    <div  class="field" *ngIf="selectedPeriod === 'weekRange'">
    <label for="week">Select Week:</label>
    <input type="week" id="week" [(ngModel)]="selectedWeek">
    </div>
    
    <div  class="field" *ngIf="selectedPeriod === 'monthRange'">
    <label for="month">Select Month:</label>
    <input type="month" id="month" [(ngModel)]="selectedMonth">
    </div>
    
    <div class="field" *ngIf="selectedPeriod === 'yearRange'">
    <label for="year">Select Year:</label>
    <input type="number" id="year" min="2023" max="2100" [(ngModel)]="selectedYear">
    </div>
    <div class="field">
      <button class="submit">Submit</button> 
    </div>
    </div>
    }
    </div>




  <div class="tableContainer" *ngIf="slectedOption === 'tide'">
    <label><h5>Bouy 1</h5></label>
    <p-table 
        rowHover="true"
        [columns]="_selectedColumns" 
        #dt2
        [exportHeader]="'customExportHeader'" 
        [loading]="loading"
        [globalFilterFields]="['id', 'staionName', 'date', 'time', 'waterLevel', 'surface', 'mid', 'low']"
        [value]="firstBuoys" 
        paginator="true"
        [rows]="10"
        [rowsPerPageOptions]="[10, 25, 50]"
        showCurrentPageReport="true"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
        [filterDelay]="0"
        [tableStyle]="{ 'min-width': '50rem' }"        
        responsiveLayout="stack" [breakpoint]="'960px'"
        styleClass="p-datatable-striped">

        <ng-template pTemplate="caption">             
            <div class="caption">
                <div id="search">
                    <input type="search" placeholder="Search" (input)="dt2.filterGlobal($any($event).target.value, 'contains')" >
                </div>
                <div class="headerFilter">
                    <p-multiSelect 
                        [options]="cols" 
                        [(ngModel)]="selectedColumns" 
                        optionLabel="header"
                        [filter]="false"
                        selectedItemsLabel="{0} columns selected" 
                        [style]="{'min-width': '300px'}" 
                        placeholder="Choose Columns" />
                    <p-button
                        icon="pi pi-external-link" 
                        label="Export" 
                        (onClick)="exportCSV(dt2)"
                        [style]="{'margin-left': '20px'}" />
                </div>
            </div>
        </ng-template>

        <ng-template pTemplate="header" let-columns>
            <tr>
                <th pSortableColumn="id" style="width: 12.5%">ID <p-sortIcon field="id"/></th>
                <th pSortableColumn="staionName" style="width: 12.5%">Station Name <p-sortIcon field="staionName"/></th>
                <th pSortableColumn="date" style="width: 12.5%">Date <p-sortIcon field="date"/></th>
                <th pSortableColumn="time" style="width: 12.5%">Time <p-sortIcon field="time"/></th>
                <!-- <th pSortableColumn="waterLevel" style="width: 12.5%">Water Level <p-sortIcon field="waterLevel"/></th> -->
                <!-- <th pSortableColumn="surface" style="width: 12.5%">Surface <p-sortIcon field="surface"/></th>
                <th pSortableColumn="mid" style="width: 12.5%">Mid <p-sortIcon field="mid"/></th>
                <th pSortableColumn="low" style="width: 12.5%">Low <p-sortIcon field="low"/></th> -->
                <th *ngFor="let col of columns"pSortableColumn="{{col.field}}" style="width: 12.5%">
                  {{col.header}} <p-sortIcon field="{{col.field}}"/>
              </th>
            </tr>
        </ng-template>
        
        <ng-template pTemplate="body" let-product let-columns="columns">
            <tr>
                <td>{{ product.id }}</td> 
                <td>{{ product.staionName }}</td>
                <td>{{ product.date }}</td>
                <td>{{ product.time }}</td>
                <!-- <td>{{ product.waterLevel }}</td> -->
                <!-- <td>{{ product.surface }}</td>
                <td>{{ product.mid }}</td>
                <td>{{ product.low }}</td> -->
                <td *ngFor="let col of columns"><div [ngClass]="{'nan': product[col.field] <= 0 }">
                  {{product[col.field]}}
                </div>
              </td>
            </tr>
        </ng-template>
        
        <div class="tableFooter"></div>
    </p-table>
</div>

<div class="tableContainer" *ngIf="slectedOption === 'adcp'">
  <label><h5>Buoy 2</h5></label>
  <p-table 
      rowHover="true"
      [columns]="_selectedColumns" 
      #dt2
      [exportHeader]="'customExportHeader'" 
      [loading]="loading"
      [globalFilterFields]="['id', 'staionName', 'date', 'time', 'waterLevel', 'surface', 'mid', 'low']"
      [value]="secondBuoys" 
      paginator="true"
      [rows]="10"
      [rowsPerPageOptions]="[10, 25, 50]"
      showCurrentPageReport="true"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
      [filterDelay]="0"
      [tableStyle]="{ 'min-width': '50rem' }"        
      responsiveLayout="stack" [breakpoint]="'960px'"
      styleClass="p-datatable-striped">

      <ng-template pTemplate="caption">             
          <div class="caption">
              <div id="search">
                  <input type="search" placeholder="Search" (input)="dt2.filterGlobal($any($event).target.value, 'contains')" >
              </div>
              <div class="headerFilter">
                  <p-multiSelect 
                      [options]="cols" 
                      [(ngModel)]="selectedColumns" 
                      optionLabel="header"
                      [filter]="false"
                      selectedItemsLabel="{0} columns selected" 
                      [style]="{'min-width': '300px'}" 
                      placeholder="Choose Columns" />
                  <p-button
                      icon="pi pi-external-link" 
                      label="Export" 
                      (onClick)="exportCSV(dt2)"
                      [style]="{'margin-left': '20px'}" />
              </div>
          </div>
      </ng-template>

      <ng-template pTemplate="header" let-columns>
          <tr>
              <th pSortableColumn="id" style="width: 12.5%">ID <p-sortIcon field="id"/></th>
              <th pSortableColumn="staionName" style="width: 12.5%">Station Name <p-sortIcon field="staionName"/></th>
              <th pSortableColumn="date" style="width: 12.5%">Date <p-sortIcon field="date"/></th>
              <th pSortableColumn="time" style="width: 12.5%">Time <p-sortIcon field="time"/></th>
              <!-- <th pSortableColumn="waterLevel" style="width: 12.5%">Water Level <p-sortIcon field="waterLevel"/></th> -->
              <!-- <th pSortableColumn="surface" style="width: 12.5%">Surface <p-sortIcon field="surface"/></th>
              <th pSortableColumn="mid" style="width: 12.5%">Mid <p-sortIcon field="mid"/></th>
              <th pSortableColumn="low" style="width: 12.5%">Low <p-sortIcon field="low"/></th> -->
              <th *ngFor="let col of columns"pSortableColumn="{{col.field}}" style="width: 12.5%">
                {{col.header}} <p-sortIcon field="{{col.field}}"/>
            </th>
          </tr>
      </ng-template>
      
      <ng-template pTemplate="body" let-product let-columns="columns">
          <tr>
              <td>{{ product.id }}</td> 
              <td>{{ product.staionName }}</td>
              <td>{{ product.date }}</td>
              <td>{{ product.time }}</td>
              <!-- <td>{{ product.waterLevel }}</td> -->
              <!-- <td>{{ product.surface }}</td>
              <td>{{ product.mid }}</td>
              <td>{{ product.low }}</td> -->
              <td *ngFor="let col of columns"><div [ngClass]="{'nan': product[col.field] <= 0 }">
                {{product[col.field]}}
              </div>
            </td>
          </tr>
      </ng-template>
      
      <div class="tableFooter"></div>
  </p-table>
</div>
  







